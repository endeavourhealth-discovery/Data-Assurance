<div class="module">
  <div class="container-fluid">
    <div class="module-heading">
      Standard reports
    </div>
    <div class="module-body">
      <form>
        <div class="row">
          <div class="col-md-4">
            <library-folder [showMenu]="false" (selectionChange)="folderChanged($event)"></library-folder>
          </div>

          <div class="col-md-8">
            <div class="table scroll-box-450">
              <table class="table table-striped table-sm">
                <thead>
                  <tr>
                    <th class="col-md-9">Title</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="hover-box show-child-on-hover" [ngClass]="{'selection': item == selectedItem}" *ngFor="let item of getSummaryList()" (click)="selectRow(item)">
                    <td>
                      {{item.name}} <span class="fa fa-info-circle fa-right-pad text-muted" ngbTooltip="{{item.description}}" *ngIf="item.description"></span>
                      <div class="problem-detail" [hidden]="!libraryItem || libraryItem.uuid != item.uuid">
                        <table style="width: 100%">
                          <tr>
                            <td class="d-inline-block col-2"><button type="button" (click)="runReport()">Run report now</button></td>
                            <td class="d-inline-block col-2"><button type="button" (click)="exportNHSNumber()">Export ID's only</button></td>
                            <td class="d-inline-block col-2"><button type="button" (click)="exportData()">Export all data</button></td>
                            <td class="d-inline-block col-6">
                              <table style="width: 100%">
                                <tr>
                                  <td><b>Last run : </b></td>
                                  <td>
                                    <span [hidden]="!libraryItem?.countReport?.lastRun">{{libraryItem?.countReport?.lastRun | date:'dd-MMM-yyyy HH:mm:ss'}}</span>
                                    <span [hidden]="libraryItem?.countReport?.lastRun">Never</span>
                                  </td>
                                </tr>
                                <tr>
                                  <td><b>Result : </b></td>
                                  <td>{{libraryItem?.countReport?.count}} row(s)</td>
                                </tr>
                              </table>
                            </td>
                          </tr>
                        </table>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
